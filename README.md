# NearbyComputing API Docs

An API documentation generator based on [DociQL](https://github.com/wayfair/dociql)

## Init

Install the required packages:

```sh
npm install
```

## Building the docs

The documentation is generated by querying a running instance of the API Gateway.

### Running with docker environment

Run:
```sh
dockerbuild -t apidocs . && docker-compose -f env/docker-compose.yml up
```

By default, the output of the build is available in the `public` directory.

### Running from your local environment

The "frontend dev" environment can be used:

```sh
docker-compose -f docker-compose-frontend.yml up -d
```

Once the environment is ready:

```sh
npm run build
```

## Debugging

If you get an error like:
```sh
/node_modules/dociql/app/dociql/compose-paths.js:42
            field: target.name,
                          ^

TypeError: Cannot read properties of undefined (reading 'name')
```

You may have an endpoint referenced in your config.yml that no longer exists, or has an incorrect path
